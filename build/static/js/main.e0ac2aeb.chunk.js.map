{"version":3,"sources":["images/adv_logo.png","images/advchat.png","firebase.js","components/SidePanel/UserPanel.js","actions/index.js","actions/types.js","components/SidePanel/Channels.js","components/SidePanel/DirectMessages.js","components/SidePanel/Starred.js","components/SidePanel/SidePanel.js","components/Messages/MessagesHeader.js","components/Messages/FileModal.js","components/Messages/ProgressBar.js","components/Messages/MessageForm.js","components/Messages/Message.js","components/Messages/Typing.js","components/Messages/Skeleton.js","components/Messages/Messages.js","components/MetaPanel/MetaPanel.js","components/App.js","components/Auth/Login.js","components/Auth/Register.js","Spinner.js","registerServiceWorker.js","reducers/index.js","index.js"],"names":["module","exports","__webpack_require__","p","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","UserPanel","state","user","_this","props","currentUser","modal","previewImage","croppedImage","blob","uploadedCroppedImage","storageRef","storage","ref","userRef","auth","usersRef","database","metadata","contentType","openModal","setState","closeModal","dropdownOptions","key","text","react_default","a","createElement","displayName","disabled","onClick","handleSignout","uploadCroppedImage","_this$state","child","concat","uid","put","then","snap","getDownloadURL","downloadURL","changeAvatar","updateProfile","photoURL","console","log","catch","err","error","update","avatar","handleChange","event","file","target","files","reader","FileReader","readAsDataURL","addEventListener","result","handleCropImage","avatarEditor","getImageScaledToCanvas","toBlob","imageUrl","URL","createObjectURL","signOut","_this2","this","_this$state2","primaryColor","Grid","Column","Row","style","padding","margin","Header","inverted","floated","as","src","logo","alt","width","marginBottom","Dropdown","trigger","Image","spaced","options","Modal","basic","open","onClose","Content","Input","onChange","fluid","type","label","name","centered","stackable","columns","className","dist_default","node","image","height","border","scale","Actions","Button","color","Icon","React","Component","setCurrentChannel","channel","payload","currentChannel","setPrivateChannel","isPrivateChannel","Channels","activeChannel","channels","channelName","channelDetails","channelsRef","messagesRef","typingRef","notifications","firstLoad","addListeners","loadedChannels","on","push","val","setFirstChannel","addNotificationListener","channelId","handleNotifications","id","currentChannelId","lastTotal","index","findIndex","notification","total","numChildren","count","lastKnownTotal","removeListeners","off","forEach","firstChannel","length","setActiveChannel","addChannel","newChannel","details","createdBy","handleSubmit","preventDefault","isFormValid","Object","defineProperty","value","changeChannel","remove","clearNotifications","updatedNotifications","toConsumableArray","getNotificationCount","displayChannels","map","Menu","Item","opacity","active","Label","_ref","Fragment","Form","onSubmit","Field","connect","DirectMessages","users","connectedRef","presenceRef","currentUserUid","loadedUsers","set","onDisconnect","addStatusToUser","userId","connected","arguments","undefined","updatedUsers","reduce","acc","isUserOnline","status","channelData","getChannelId","currentUserId","fontStyle","Starred","starredChannels","removeListener","starredChannel","objectSpread","channelToRemove","filteredChannels","filter","SidePanel","_this$props","size","fixed","vertical","background","fontSize","SidePanel_UserPanel","SidePanel_Starred","SidePanel_Channels","SidePanel_DirectMessages","MessagesHeader","numUniqueUsers","handleSearchChange","searchLoading","handleStar","isChannelStarred","Segment","clearing","Subheader","loading","icon","placeholder","FileModal","authorized","addFile","sendFile","uploadFile","isAuthorized","mime","lookup","clearFile","filename","includes","_this$props2","ProgressBar","uploadState","percentUploaded","Progress","percent","progress","indicating","MessageForm","uploadTask","message","errors","emojiPicker","handleKeyDown","ctrlKey","keyCode","sendMessage","handleTogglePicker","handleAddEmoji","emoji","oldMessage","newMessage","colonToUnicode","colons","setTimeout","messageInputRef","focus","replace","x","emojiIndex","emojis","unicode","native","createMessage","fileUrl","timestamp","ServerValue","TIMESTAMP","getMessagesRef","getPath","pathToUpload","filePath","uuidv4","Math","round","bytesTransferred","totalBytes","snapshot","downloadUrl","sendFileMessage","cancel","_this$state3","dist_es","onSelect","title","onKeyDown","content","labelPosition","some","Group","widths","Messages_FileModal","Messages_ProgressBar","isOwnMessage","Message","Comment","Avatar","Author","Metadata","moment","fromNow","hasOwnProperty","isImage","Text","Typing","Skeleton","Messages","privateChannel","privateMessagesRef","messages","messagesLoading","searchTerm","searchResults","typingUsers","listeners","listener","addToListeners","newListener","scrollToBottom","messagesEnd","scrollIntoView","behavior","addMessageListener","addTypingListeners","loadedMessages","countUniqueUsers","countUserPosts","addUserStarsListener","once","data","prevStarred","keys","prevState","starChannel","handleSearchMessages","channelMessages","regex","RegExp","match","uniqueUsers","plural","userPosts","setUserPosts","displayMessages","Messages_Message","displayChannelName","displayTypingUsers","display","alignItems","Messages_Typing","displayMessageSkeleton","Array","_","i","Messages_Skeleton","prevProps","Messages_MessagesHeader","Messages_MessageForm","MetaPanel","activeIndex","setActiveIndex","titleProps","newIndex","formatCount","num","displayTopPosters","posts","entries","sort","b","_ref2","slicedToArray","List","Description","slice","attached","Accordion","styled","Title","circular","colors","secondaryColor","minWidth","components_SidePanel_SidePanel","marginLeft","components_Messages_Messages","components_MetaPanel_MetaPanel","Login","email","password","displayErrors","signInWithEmailAndPassword","signedInUser","handleInputError","inputName","toLowerCase","textAlign","verticalAlign","maxWidth","stacked","iconPosition","collections_Message_Message","marginTop","Register","username","passwordConfirmation","isFormEmpty","isPasswordValid","createUserWithEmailAndPassword","createdUser","md5","saveUser","class","Link","to","Spinner","Dimmer","Loader","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","initialUserState","isLoading","initialChannelState","initialColorsState","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","Root","onAuthStateChanged","setUser","history","clearUser","src_Spinner","Switch","Route","exact","path","component","App","RootWithAuth","withRouter","ReactDOM","render","es","BrowserRouter","document","getElementById","process","origin","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.e0ac2aeb.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASQAAABBCAMAAABPaSmDAAAC+lBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////86i/ucAAAA/XRSTlMAAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJT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\"","module.exports = __webpack_public_path__ + \"static/media/advchat.61ba557f.png\";","import firebase from \"firebase/app\";\n\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport \"firebase/storage\";\n\nvar config = {\n  apiKey: \"AIzaSyDlg91rQmL6HBpO7jCEseTm9lFaOJwM38o\",\n  authDomain: \"slack-chat-react.firebaseapp.com\",\n  databaseURL: \"https://slack-chat-react.firebaseio.com\",\n  projectId: \"slack-chat-react\",\n  storageBucket: \"slack-chat-react.appspot.com\",\n  messagingSenderId: \"1065125380863\"\n};\nfirebase.initializeApp(config);\n\nexport default firebase;\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport AvatarEditor from \"react-avatar-editor\";\n// prettier-ignore\nimport { Grid, Header, Icon, Dropdown, Image, Modal, Input, Button } from \"semantic-ui-react\";\nimport logo from \"../../images/adv_logo.png\";\n\nclass UserPanel extends React.Component {\n  state = {\n    user: this.props.currentUser,\n    modal: false,\n    previewImage: \"\",\n    croppedImage: \"\",\n    blob: null,\n    uploadedCroppedImage: \"\",\n    storageRef: firebase.storage().ref(),\n    userRef: firebase.auth().currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    metadata: {\n      contentType: \"image/jpeg\"\n    }\n  };\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  dropdownOptions = () => [\n    {\n      key: \"user\",\n      text: (\n        <span>\n          Signed in as <strong>{this.state.user.displayName}</strong>\n        </span>\n      ),\n      disabled: true\n    },\n    {\n      key: \"avatar\",\n      text: <span onClick={this.openModal}>Change Avatar</span>\n    },\n    {\n      key: \"signout\",\n      text: <span onClick={this.handleSignout}>Sign Out</span>\n    }\n  ];\n\n  uploadCroppedImage = () => {\n    const { storageRef, userRef, blob, metadata } = this.state;\n\n    storageRef\n      .child(`avatars/users/${userRef.uid}`)\n      .put(blob, metadata)\n      .then(snap => {\n        snap.ref.getDownloadURL().then(downloadURL => {\n          this.setState({ uploadedCroppedImage: downloadURL }, () =>\n            this.changeAvatar()\n          );\n        });\n      });\n  };\n\n  changeAvatar = () => {\n    this.state.userRef\n      .updateProfile({\n        photoURL: this.state.uploadedCroppedImage\n      })\n      .then(() => {\n        console.log(\"PhotoURL updated\");\n        this.closeModal();\n      })\n      .catch(err => {\n        console.error(err);\n      });\n\n    this.state.usersRef\n      .child(this.state.user.uid)\n      .update({ avatar: this.state.uploadedCroppedImage })\n      .then(() => {\n        console.log(\"User avatar updated\");\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  handleChange = event => {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n\n    if (file) {\n      reader.readAsDataURL(file);\n      reader.addEventListener(\"load\", () => {\n        this.setState({ previewImage: reader.result });\n      });\n    }\n  };\n\n  handleCropImage = () => {\n    if (this.avatarEditor) {\n      this.avatarEditor.getImageScaledToCanvas().toBlob(blob => {\n        let imageUrl = URL.createObjectURL(blob);\n        this.setState({\n          croppedImage: imageUrl,\n          blob\n        });\n      });\n    }\n  };\n\n  handleSignout = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => console.log(\"signed out!\"));\n  };\n\n  render() {\n    const { user, modal, previewImage, croppedImage } = this.state;\n    const { primaryColor } = this.props;\n\n    return (\n      <Grid>\n        <Grid.Column>\n          <Grid.Row style={{ padding: \"1.2em\", margin: 0 }}>\n            {/* App Header */}\n            <Header inverted floated=\"left\" as=\"h1\">\n              <img\n                src={logo}\n                alt=\"Advanced Nursing\"\n                style={{ width: 160, marginBottom: 30 }}\n              />\n            </Header>\n\n            {/* User Dropdown  */}\n            <Header style={{ padding: \"0.25em\" }} as=\"h4\" inverted>\n              <Dropdown\n                trigger={\n                  <span>\n                    <Image src={user.photoURL} spaced=\"right\" avatar />\n                    {user.displayName}\n                  </span>\n                }\n                options={this.dropdownOptions()}\n              />\n            </Header>\n          </Grid.Row>\n\n          {/* Change User Avatar Modal   */}\n          <Modal basic open={modal} onClose={this.closeModal}>\n            <Modal.Header>Change Avatar</Modal.Header>\n            <Modal.Content>\n              <Input\n                onChange={this.handleChange}\n                fluid\n                type=\"file\"\n                label=\"New Avatar\"\n                name=\"previewImage\"\n              />\n              <Grid centered stackable columns={2}>\n                <Grid.Row centered>\n                  <Grid.Column className=\"ui center aligned grid\">\n                    {previewImage && (\n                      <AvatarEditor\n                        ref={node => (this.avatarEditor = node)}\n                        image={previewImage}\n                        width={120}\n                        height={120}\n                        border={50}\n                        scale={1.2}\n                      />\n                    )}\n                  </Grid.Column>\n                  <Grid.Column>\n                    {croppedImage && (\n                      <Image\n                        style={{ margin: \"3.5em auto\" }}\n                        width={100}\n                        height={100}\n                        src={croppedImage}\n                      />\n                    )}\n                  </Grid.Column>\n                </Grid.Row>\n              </Grid>\n            </Modal.Content>\n            <Modal.Actions>\n              {croppedImage && (\n                <Button\n                  color=\"green\"\n                  inverted\n                  onClick={this.uploadCroppedImage}\n                >\n                  <Icon name=\"save\" /> Change Avatar\n                </Button>\n              )}\n              <Button color=\"green\" inverted onClick={this.handleCropImage}>\n                <Icon name=\"image\" /> Preview\n              </Button>\n              <Button color=\"red\" inverted onClick={this.closeModal}>\n                <Icon name=\"remove\" /> Cancel\n              </Button>\n            </Modal.Actions>\n          </Modal>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default UserPanel;\n","import * as actionTypes from \"./types\";\n\n/* User Actions */\nexport const setUser = user => {\n  return {\n    type: actionTypes.SET_USER,\n    payload: {\n      currentUser: user\n    }\n  };\n};\n\nexport const clearUser = () => {\n  return {\n    type: actionTypes.CLEAR_USER\n  };\n};\n\n/* Channel Actions */\nexport const setCurrentChannel = channel => {\n  return {\n    type: actionTypes.SET_CURRENT_CHANNEL,\n    payload: {\n      currentChannel: channel\n    }\n  };\n};\n\nexport const setPrivateChannel = isPrivateChannel => {\n  return {\n    type: actionTypes.SET_PRIVATE_CHANNEL,\n    payload: {\n      isPrivateChannel\n    }\n  };\n};\n\nexport const setUserPosts = userPosts => {\n  return {\n    type: actionTypes.SET_USER_POSTS,\n    payload: {\n      userPosts\n    }\n  };\n};\n\n/* Colors Actions */\nexport const setColors = (primaryColor, secondaryColor) => {\n  return {\n    type: actionTypes.SET_COLORS,\n    payload: {\n      primaryColor,\n      secondaryColor\n    }\n  };\n};\n","/* User Action Types */\nexport const SET_USER = \"SET_USER\";\nexport const CLEAR_USER = \"CLEAR_USER\";\n\n/* Channel Action Types */\nexport const SET_CURRENT_CHANNEL = \"SET_CURRENT_CHANNEL\";\nexport const SET_PRIVATE_CHANNEL = \"SET_PRIVATE_CHANNEL\";\nexport const SET_USER_POSTS = \"SET_USER_POSTS\";\n\n/* Colors Action Types */\nexport const SET_COLORS = \"SET_COLORS\";\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\n// prettier-ignore\nimport { Menu, Icon, Modal, Form, Input, Button, Label } from \"semantic-ui-react\";\n\nclass Channels extends React.Component {\n  state = {\n    activeChannel: \"\",\n    user: this.props.currentUser,\n    channel: null,\n    channels: [],\n    channelName: \"\",\n    channelDetails: \"\",\n    channelsRef: firebase.database().ref(\"channels\"),\n    messagesRef: firebase.database().ref(\"messages\"),\n    typingRef: firebase.database().ref(\"typing\"),\n    notifications: [],\n    modal: false,\n    firstLoad: true\n  };\n\n  componentDidMount() {\n    this.addListeners();\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  addListeners = () => {\n    let loadedChannels = [];\n    this.state.channelsRef.on(\"child_added\", snap => {\n      loadedChannels.push(snap.val());\n      this.setState({ channels: loadedChannels }, () => this.setFirstChannel());\n      this.addNotificationListener(snap.key);\n    });\n  };\n\n  addNotificationListener = channelId => {\n    this.state.messagesRef.child(channelId).on(\"value\", snap => {\n      if (this.state.channel) {\n        this.handleNotifications(\n          channelId,\n          this.state.channel.id,\n          this.state.notifications,\n          snap\n        );\n      }\n    });\n  };\n\n  handleNotifications = (channelId, currentChannelId, notifications, snap) => {\n    let lastTotal = 0;\n\n    let index = notifications.findIndex(\n      notification => notification.id === channelId\n    );\n\n    if (index !== -1) {\n      if (channelId !== currentChannelId) {\n        lastTotal = notifications[index].total;\n\n        if (snap.numChildren() - lastTotal > 0) {\n          notifications[index].count = snap.numChildren() - lastTotal;\n        }\n      }\n      notifications[index].lastKnownTotal = snap.numChildren();\n    } else {\n      notifications.push({\n        id: channelId,\n        total: snap.numChildren(),\n        lastKnownTotal: snap.numChildren(),\n        count: 0\n      });\n    }\n\n    this.setState({ notifications });\n  };\n\n  removeListeners = () => {\n    this.state.channelsRef.off();\n    this.state.channels.forEach(channel => {\n      this.state.messagesRef.child(channel.id).off();\n    });\n  };\n\n  setFirstChannel = () => {\n    const firstChannel = this.state.channels[0];\n    if (this.state.firstLoad && this.state.channels.length > 0) {\n      this.props.setCurrentChannel(firstChannel);\n      this.setActiveChannel(firstChannel);\n      this.setState({ channel: firstChannel });\n    }\n    this.setState({ firstLoad: false });\n  };\n\n  addChannel = () => {\n    const { channelsRef, channelName, channelDetails, user } = this.state;\n\n    const key = channelsRef.push().key;\n\n    const newChannel = {\n      id: key,\n      name: channelName,\n      details: channelDetails,\n      createdBy: {\n        name: user.displayName,\n        avatar: user.photoURL\n      }\n    };\n\n    channelsRef\n      .child(key)\n      .update(newChannel)\n      .then(() => {\n        this.setState({ channelName: \"\", channelDetails: \"\" });\n        this.closeModal();\n        console.log(\"channel added\");\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid(this.state)) {\n      this.addChannel();\n    }\n  };\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  changeChannel = channel => {\n    this.setActiveChannel(channel);\n    this.state.typingRef\n      .child(this.state.channel.id)\n      .child(this.state.user.uid)\n      .remove();\n    this.clearNotifications();\n    this.props.setCurrentChannel(channel);\n    this.props.setPrivateChannel(false);\n    this.setState({ channel });\n  };\n\n  clearNotifications = () => {\n    let index = this.state.notifications.findIndex(\n      notification => notification.id === this.state.channel.id\n    );\n\n    if (index !== -1) {\n      let updatedNotifications = [...this.state.notifications];\n      updatedNotifications[index].total = this.state.notifications[\n        index\n      ].lastKnownTotal;\n      updatedNotifications[index].count = 0;\n      this.setState({ notifications: updatedNotifications });\n    }\n  };\n\n  setActiveChannel = channel => {\n    this.setState({ activeChannel: channel.id });\n  };\n\n  getNotificationCount = channel => {\n    let count = 0;\n\n    this.state.notifications.forEach(notification => {\n      if (notification.id === channel.id) {\n        count = notification.count;\n      }\n    });\n\n    if (count > 0) return count;\n  };\n\n  displayChannels = channels =>\n    channels.length > 0 &&\n    channels.map(channel => (\n      <Menu.Item\n        key={channel.id}\n        onClick={() => this.changeChannel(channel)}\n        name={channel.name}\n        style={{ opacity: 0.7 }}\n        active={channel.id === this.state.activeChannel}\n      >\n        {this.getNotificationCount(channel) && (\n          <Label color=\"red\">{this.getNotificationCount(channel)}</Label>\n        )}\n        # {channel.name}\n      </Menu.Item>\n    ));\n\n  isFormValid = ({ channelName, channelDetails }) =>\n    channelName && channelDetails;\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  render() {\n    const { channels, modal } = this.state;\n\n    return (\n      <React.Fragment>\n        <Menu.Menu className=\"menu\">\n          <Menu.Item>\n            <span>\n              <Icon name=\"comments\" /> PUBLIC\n            </span>{\" \"}\n            ({channels.length}) <Icon name=\"add\" onClick={this.openModal} />\n          </Menu.Item>\n          {this.displayChannels(channels)}\n        </Menu.Menu>\n\n        {/* Add Channel Modal */}\n        <Modal basic open={modal} onClose={this.closeModal}>\n          <Modal.Header>Add a Channel</Modal.Header>\n          <Modal.Content>\n            <Form onSubmit={this.handleSubmit}>\n              <Form.Field>\n                <Input\n                  fluid\n                  label=\"Name of Channel\"\n                  name=\"channelName\"\n                  onChange={this.handleChange}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <Input\n                  fluid\n                  label=\"About the Channel\"\n                  name=\"channelDetails\"\n                  onChange={this.handleChange}\n                />\n              </Form.Field>\n            </Form>\n          </Modal.Content>\n\n          <Modal.Actions>\n            <Button color=\"green\" inverted onClick={this.handleSubmit}>\n              <Icon name=\"checkmark\" /> Add\n            </Button>\n            <Button color=\"red\" inverted onClick={this.closeModal}>\n              <Icon name=\"remove\" /> Cancel\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setCurrentChannel, setPrivateChannel }\n)(Channels);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\nimport { Menu, Icon } from \"semantic-ui-react\";\n\nclass DirectMessages extends React.Component {\n  state = {\n    activeChannel: \"\",\n    user: this.props.currentUser,\n    users: [],\n    usersRef: firebase.database().ref(\"users\"),\n    connectedRef: firebase.database().ref(\".info/connected\"),\n    presenceRef: firebase.database().ref(\"presence\")\n  };\n\n  componentDidMount() {\n    if (this.state.user) {\n      this.addListeners(this.state.user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  removeListeners = () => {\n    this.state.usersRef.off();\n    this.state.presenceRef.off();\n    this.state.connectedRef.off();\n  };\n\n  addListeners = currentUserUid => {\n    let loadedUsers = [];\n    this.state.usersRef.on(\"child_added\", snap => {\n      if (currentUserUid !== snap.key) {\n        let user = snap.val();\n        user[\"uid\"] = snap.key;\n        user[\"status\"] = \"offline\";\n        loadedUsers.push(user);\n        this.setState({ users: loadedUsers });\n      }\n    });\n\n    this.state.connectedRef.on(\"value\", snap => {\n      if (snap.val() === true) {\n        const ref = this.state.presenceRef.child(currentUserUid);\n        ref.set(true);\n        ref.onDisconnect().remove(err => {\n          if (err !== null) {\n            console.error(err);\n          }\n        });\n      }\n    });\n\n    this.state.presenceRef.on(\"child_added\", snap => {\n      if (currentUserUid !== snap.key) {\n        this.addStatusToUser(snap.key);\n      }\n    });\n\n    this.state.presenceRef.on(\"child_removed\", snap => {\n      if (currentUserUid !== snap.key) {\n        this.addStatusToUser(snap.key, false);\n      }\n    });\n  };\n\n  addStatusToUser = (userId, connected = true) => {\n    const updatedUsers = this.state.users.reduce((acc, user) => {\n      if (user.uid === userId) {\n        user[\"status\"] = `${connected ? \"online\" : \"offline\"}`;\n      }\n      return acc.concat(user);\n    }, []);\n    this.setState({ users: updatedUsers });\n  };\n\n  isUserOnline = user => user.status === \"online\";\n\n  changeChannel = user => {\n    const channelId = this.getChannelId(user.uid);\n    const channelData = {\n      id: channelId,\n      name: user.name\n    };\n    this.props.setCurrentChannel(channelData);\n    this.props.setPrivateChannel(true);\n    this.setActiveChannel(user.uid);\n  };\n\n  getChannelId = userId => {\n    const currentUserId = this.state.user.uid;\n    return userId < currentUserId\n      ? `${userId}/${currentUserId}`\n      : `${currentUserId}/${userId}`;\n  };\n\n  setActiveChannel = userId => {\n    this.setState({ activeChannel: userId });\n  };\n\n  render() {\n    const { users, activeChannel } = this.state;\n\n    return (\n      <Menu.Menu className=\"menu\">\n        <Menu.Item>\n          <span>\n            <Icon name=\"mail\" /> PRIVATE\n          </span>{\" \"}\n          ({users.length})\n        </Menu.Item>\n        {users.map(user => (\n          <Menu.Item\n            key={user.uid}\n            active={user.uid === activeChannel}\n            onClick={() => this.changeChannel(user)}\n            style={{ opacity: 0.7, fontStyle: \"italic\" }}\n          >\n            <Icon\n              name=\"circle\"\n              color={this.isUserOnline(user) ? \"green\" : \"red\"}\n            />\n            @ {user.name}\n          </Menu.Item>\n        ))}\n      </Menu.Menu>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setCurrentChannel, setPrivateChannel }\n)(DirectMessages);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\nimport { Menu, Icon } from \"semantic-ui-react\";\n\nclass Starred extends React.Component {\n  state = {\n    user: this.props.currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    activeChannel: \"\",\n    starredChannels: []\n  };\n\n  componentDidMount() {\n    if (this.state.user) {\n      this.addListeners(this.state.user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListener();\n  }\n\n  removeListener = () => {\n    this.state.usersRef.child(`${this.state.user.uid}/starred`).off();\n  };\n\n  addListeners = userId => {\n    this.state.usersRef\n      .child(userId)\n      .child(\"starred\")\n      .on(\"child_added\", snap => {\n        const starredChannel = { id: snap.key, ...snap.val() };\n        this.setState({\n          starredChannels: [...this.state.starredChannels, starredChannel]\n        });\n      });\n\n    this.state.usersRef\n      .child(userId)\n      .child(\"starred\")\n      .on(\"child_removed\", snap => {\n        const channelToRemove = { id: snap.key, ...snap.val() };\n        const filteredChannels = this.state.starredChannels.filter(channel => {\n          return channel.id !== channelToRemove.id;\n        });\n        this.setState({ starredChannels: filteredChannels });\n      });\n  };\n\n  setActiveChannel = channel => {\n    this.setState({ activeChannel: channel.id });\n  };\n\n  changeChannel = channel => {\n    this.setActiveChannel(channel);\n    this.props.setCurrentChannel(channel);\n    this.props.setPrivateChannel(false);\n  };\n\n  displayChannels = starredChannels =>\n    starredChannels.length > 0 &&\n    starredChannels.map(channel => (\n      <Menu.Item\n        key={channel.id}\n        onClick={() => this.changeChannel(channel)}\n        name={channel.name}\n        style={{ opacity: 0.7 }}\n        active={channel.id === this.state.activeChannel}\n      >\n        # {channel.name}\n      </Menu.Item>\n    ));\n\n  render() {\n    const { starredChannels } = this.state;\n\n    return (\n      <Menu.Menu className=\"menu\">\n        <Menu.Item>\n          <span>\n            <Icon name=\"star\" /> IMPORTANT\n          </span>{\" \"}\n          ({starredChannels.length})\n        </Menu.Item>\n        {this.displayChannels(starredChannels)}\n      </Menu.Menu>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setCurrentChannel, setPrivateChannel }\n)(Starred);\n","import React from \"react\";\nimport { Menu } from \"semantic-ui-react\";\n\nimport UserPanel from \"./UserPanel\";\nimport Channels from \"./Channels\";\nimport DirectMessages from \"./DirectMessages\";\nimport Starred from \"./Starred\";\n\nclass SidePanel extends React.Component {\n  render() {\n    const { currentUser, primaryColor } = this.props;\n\n    return (\n      <Menu\n        size=\"large\"\n        inverted\n        fixed=\"left\"\n        vertical\n        style={{\n          background: \"rgb(83, 54, 88)\",\n          fontSize: \"1.2rem\"\n        }}\n      >\n        <UserPanel primaryColor={primaryColor} currentUser={currentUser} />\n        <Starred currentUser={currentUser} />\n        <Channels currentUser={currentUser} />\n        <DirectMessages currentUser={currentUser} />\n      </Menu>\n    );\n  }\n}\n\nexport default SidePanel;\n","import React from \"react\";\nimport { Header, Segment, Input, Icon } from \"semantic-ui-react\";\n\nclass MessagesHeader extends React.Component {\n  render() {\n    const {\n      channelName,\n      numUniqueUsers,\n      handleSearchChange,\n      searchLoading,\n      isPrivateChannel,\n      handleStar,\n      isChannelStarred\n    } = this.props;\n\n    return (\n      <Segment clearing>\n        {/* Channel Title */}\n        <Header fluid=\"true\" as=\"h3\" floated=\"left\" style={{ marginBottom: 0 }}>\n          <span>\n            {channelName}\n            {!isPrivateChannel && (\n              <Icon\n                onClick={handleStar}\n                name={isChannelStarred ? \"star\" : \"star outline\"}\n                color={isChannelStarred ? \"yellow\" : \"black\"}\n              />\n            )}\n          </span>\n          <Header.Subheader>{numUniqueUsers}</Header.Subheader>\n        </Header>\n\n        {/* Channel Search Input */}\n        <Header floated=\"right\">\n          <Input\n            loading={searchLoading}\n            onChange={handleSearchChange}\n            size=\"mini\"\n            icon=\"search\"\n            name=\"searchTerm\"\n            placeholder=\"Search\"\n          />\n        </Header>\n      </Segment>\n    );\n  }\n}\n\nexport default MessagesHeader;\n","import React from \"react\";\nimport mime from \"mime-types\";\nimport { Modal, Input, Button, Icon } from \"semantic-ui-react\";\n\nclass FileModal extends React.Component {\n  state = {\n    file: null,\n    authorized: [\"image/jpeg\", \"image/png\"]\n  };\n\n  addFile = event => {\n    const file = event.target.files[0];\n    if (file) {\n      this.setState({ file });\n    }\n  };\n\n  sendFile = () => {\n    const { file } = this.state;\n    const { uploadFile, closeModal } = this.props;\n\n    if (file !== null) {\n      if (this.isAuthorized(file.name)) {\n        const metadata = { contentType: mime.lookup(file.name) };\n        uploadFile(file, metadata);\n        closeModal();\n        this.clearFile();\n      }\n    }\n  };\n\n  isAuthorized = filename =>\n    this.state.authorized.includes(mime.lookup(filename));\n\n  clearFile = () => this.setState({ file: null });\n\n  render() {\n    const { modal, closeModal } = this.props;\n\n    return (\n      <Modal basic open={modal} onClose={closeModal}>\n        <Modal.Header>Select an Image File</Modal.Header>\n        <Modal.Content>\n          <Input\n            onChange={this.addFile}\n            fluid\n            label=\"File types: jpg, png\"\n            name=\"file\"\n            type=\"file\"\n          />\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={this.sendFile} color=\"green\" inverted>\n            <Icon name=\"checkmark\" /> Send\n          </Button>\n          <Button color=\"red\" inverted onClick={closeModal}>\n            <Icon name=\"remove\" /> Cancel\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default FileModal;\n","import React from \"react\";\nimport { Progress } from \"semantic-ui-react\";\n\nconst ProgressBar = ({ uploadState, percentUploaded }) =>\n  uploadState === \"uploading\" && (\n    <Progress\n      className=\"progress__bar\"\n      percent={percentUploaded}\n      progress\n      indicating\n      size=\"medium\"\n      inverted\n    />\n  );\n\nexport default ProgressBar;\n","import React from \"react\";\nimport uuidv4 from \"uuid/v4\";\nimport firebase from \"../../firebase\";\nimport { Segment, Button, Input } from \"semantic-ui-react\";\nimport { Picker, emojiIndex } from \"emoji-mart\";\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport FileModal from \"./FileModal\";\nimport ProgressBar from \"./ProgressBar\";\n\nclass MessageForm extends React.Component {\n  state = {\n    storageRef: firebase.storage().ref(),\n    typingRef: firebase.database().ref(\"typing\"),\n    uploadTask: null,\n    uploadState: \"\",\n    percentUploaded: 0,\n    message: \"\",\n    channel: this.props.currentChannel,\n    user: this.props.currentUser,\n    loading: false,\n    errors: [],\n    modal: false,\n    emojiPicker: false\n  };\n\n  componentWillUnmount() {\n    if (this.state.uploadTask !== null) {\n      this.state.uploadTask.cancel();\n      this.setState({ uploadTask: null });\n    }\n  }\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleKeyDown = event => {\n    if (event.ctrlKey && event.keyCode === 13) {\n      this.sendMessage();\n    }\n\n    const { message, typingRef, channel, user } = this.state;\n\n    if (message) {\n      typingRef\n        .child(channel.id)\n        .child(user.uid)\n        .set(user.displayName);\n    } else {\n      typingRef\n        .child(channel.id)\n        .child(user.uid)\n        .remove();\n    }\n  };\n\n  handleTogglePicker = () => {\n    this.setState({ emojiPicker: !this.state.emojiPicker });\n  };\n\n  handleAddEmoji = emoji => {\n    const oldMessage = this.state.message;\n    const newMessage = this.colonToUnicode(` ${oldMessage} ${emoji.colons} `);\n    this.setState({ message: newMessage, emojiPicker: false });\n    setTimeout(() => this.messageInputRef.focus(), 0);\n  };\n\n  colonToUnicode = message => {\n    return message.replace(/:[A-Za-z0-9_+-]+:/g, x => {\n      x = x.replace(/:/g, \"\");\n      let emoji = emojiIndex.emojis[x];\n      if (typeof emoji !== \"undefined\") {\n        let unicode = emoji.native;\n        if (typeof unicode !== \"undefined\") {\n          return unicode;\n        }\n      }\n      x = \":\" + x + \":\";\n      return x;\n    });\n  };\n\n  createMessage = (fileUrl = null) => {\n    const message = {\n      timestamp: firebase.database.ServerValue.TIMESTAMP,\n      user: {\n        id: this.state.user.uid,\n        name: this.state.user.displayName,\n        avatar: this.state.user.photoURL\n      }\n    };\n    if (fileUrl !== null) {\n      message[\"image\"] = fileUrl;\n    } else {\n      message[\"content\"] = this.state.message;\n    }\n    return message;\n  };\n\n  sendMessage = () => {\n    const { getMessagesRef } = this.props;\n    const { message, channel, user, typingRef } = this.state;\n\n    if (message) {\n      this.setState({ loading: true });\n      getMessagesRef()\n        .child(channel.id)\n        .push()\n        .set(this.createMessage())\n        .then(() => {\n          this.setState({ loading: false, message: \"\", errors: [] });\n          typingRef\n            .child(channel.id)\n            .child(user.uid)\n            .remove();\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            loading: false,\n            errors: this.state.errors.concat(err)\n          });\n        });\n    } else {\n      this.setState({\n        errors: this.state.errors.concat({ message: \"Add a message\" })\n      });\n    }\n  };\n\n  getPath = () => {\n    if (this.props.isPrivateChannel) {\n      return `chat/private/${this.state.channel.id}`;\n    } else {\n      return \"chat/public\";\n    }\n  };\n\n  uploadFile = (file, metadata) => {\n    const pathToUpload = this.state.channel.id;\n    const ref = this.props.getMessagesRef();\n    const filePath = `${this.getPath()}/${uuidv4()}.jpg`;\n\n    this.setState(\n      {\n        uploadState: \"uploading\",\n        uploadTask: this.state.storageRef.child(filePath).put(file, metadata)\n      },\n      () => {\n        this.state.uploadTask.on(\n          \"state_changed\",\n          snap => {\n            const percentUploaded = Math.round(\n              (snap.bytesTransferred / snap.totalBytes) * 100\n            );\n            this.setState({ percentUploaded });\n          },\n          err => {\n            console.error(err);\n            this.setState({\n              errors: this.state.errors.concat(err),\n              uploadState: \"error\",\n              uploadTask: null\n            });\n          },\n          () => {\n            this.state.uploadTask.snapshot.ref\n              .getDownloadURL()\n              .then(downloadUrl => {\n                this.sendFileMessage(downloadUrl, ref, pathToUpload);\n              })\n              .catch(err => {\n                console.error(err);\n                this.setState({\n                  errors: this.state.errors.concat(err),\n                  uploadState: \"error\",\n                  uploadTask: null\n                });\n              });\n          }\n        );\n      }\n    );\n  };\n\n  sendFileMessage = (fileUrl, ref, pathToUpload) => {\n    ref\n      .child(pathToUpload)\n      .push()\n      .set(this.createMessage(fileUrl))\n      .then(() => {\n        this.setState({ uploadState: \"done\" });\n      })\n      .catch(err => {\n        console.error(err);\n        this.setState({\n          errors: this.state.errors.concat(err)\n        });\n      });\n  };\n\n  render() {\n    // prettier-ignore\n    const { errors, message, loading, modal, uploadState, percentUploaded, emojiPicker } = this.state;\n\n    return (\n      <Segment className=\"message__form\">\n        {emojiPicker && (\n          <Picker\n            set=\"apple\"\n            onSelect={this.handleAddEmoji}\n            className=\"emojipicker\"\n            title=\"Pick your emoji\"\n            emoji=\"point_up\"\n          />\n        )}\n        <Input\n          fluid\n          name=\"message\"\n          onChange={this.handleChange}\n          onKeyDown={this.handleKeyDown}\n          value={message}\n          ref={node => (this.messageInputRef = node)}\n          style={{ marginBottom: \"0.7em\" }}\n          label={\n            <Button\n              icon={emojiPicker ? \"close\" : \"add\"}\n              content={emojiPicker ? \"Close\" : null}\n              onClick={this.handleTogglePicker}\n            />\n          }\n          labelPosition=\"left\"\n          className={\n            errors.some(error => error.message.includes(\"message\"))\n              ? \"error\"\n              : \"\"\n          }\n          placeholder=\"Type your message\"\n        />\n        <Button.Group icon widths=\"2\">\n          <Button\n            onClick={this.sendMessage}\n            disabled={loading}\n            color=\"blue\"\n            content=\"Send\"\n            labelPosition=\"left\"\n            icon=\"edit\"\n          />\n          <Button\n            color=\"teal\"\n            disabled={uploadState === \"uploading\"}\n            onClick={this.openModal}\n            content=\"Upload Photo\"\n            labelPosition=\"right\"\n            icon=\"cloud upload\"\n          />\n        </Button.Group>\n        <FileModal\n          modal={modal}\n          closeModal={this.closeModal}\n          uploadFile={this.uploadFile}\n        />\n        <ProgressBar\n          uploadState={uploadState}\n          percentUploaded={percentUploaded}\n        />\n      </Segment>\n    );\n  }\n}\n\nexport default MessageForm;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { Comment, Image } from \"semantic-ui-react\";\n\nconst isOwnMessage = (message, user) => {\n  return message.user.id === user.uid ? \"message__self\" : \"\";\n};\n\nconst isImage = message => {\n  return message.hasOwnProperty(\"image\") && !message.hasOwnProperty(\"content\");\n};\n\nconst timeFromNow = timestamp => moment(timestamp).fromNow();\n\nconst Message = ({ message, user }) => (\n  <Comment>\n    <Comment.Avatar src={message.user.avatar} />\n    <Comment.Content className={isOwnMessage(message, user)}>\n      <Comment.Author as=\"a\">{message.user.name}</Comment.Author>\n      <Comment.Metadata style={{ color: \"red\" }}>\n        {timeFromNow(message.timestamp)}\n      </Comment.Metadata>\n      {isImage(message) ? (\n        <Image src={message.image} className=\"message__image\" />\n      ) : (\n        <Comment.Text>{message.content}</Comment.Text>\n      )}\n    </Comment.Content>\n  </Comment>\n);\n\nexport default Message;\n","import React from 'react';\n\nconst Typing = () => (\n  <div className=\"typing\">\n    <div className=\"typing__dot\"></div>\n    <div className=\"typing__dot\"></div>\n    <div className=\"typing__dot\"></div>\n  </div>\n)\n\nexport default Typing;","import React from \"react\";\n\nconst Skeleton = () => (\n  <div className=\"skeleton\">\n    <div className=\"skeleton__avatar\" />\n    <div className=\"skeleton__author\" />\n    <div className=\"skeleton__details\" />\n  </div>\n);\n\nexport default Skeleton;\n","import React from \"react\";\nimport { Segment, Comment } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { setUserPosts } from \"../../actions\";\nimport firebase from \"../../firebase\";\n\nimport MessagesHeader from \"./MessagesHeader\";\nimport MessageForm from \"./MessageForm\";\nimport Message from \"./Message\";\nimport Typing from \"./Typing\";\nimport Skeleton from \"./Skeleton\";\n\nclass Messages extends React.Component {\n  state = {\n    privateChannel: this.props.isPrivateChannel,\n    privateMessagesRef: firebase.database().ref(\"privateMessages\"),\n    messagesRef: firebase.database().ref(\"messages\"),\n    messages: [],\n    messagesLoading: true,\n    channel: this.props.currentChannel,\n    isChannelStarred: false,\n    user: this.props.currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    numUniqueUsers: \"\",\n    searchTerm: \"\",\n    searchLoading: false,\n    searchResults: [],\n    typingRef: firebase.database().ref(\"typing\"),\n    typingUsers: [],\n    connectedRef: firebase.database().ref(\".info/connected\"),\n    listeners: []\n  };\n\n  componentDidMount() {\n    const { channel, user, listeners } = this.state;\n\n    if (channel && user) {\n      this.removeListeners(listeners);\n      this.addListeners(channel.id);\n      this.addUserStarsListener(channel.id, user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListeners(this.state.listeners);\n    this.state.connectedRef.off();\n  }\n\n  removeListeners = listeners => {\n    listeners.forEach(listener => {\n      listener.ref.child(listener.id).off(listener.event);\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.messagesEnd) {\n      this.scrollToBottom();\n    }\n  }\n\n  addToListeners = (id, ref, event) => {\n    const index = this.state.listeners.findIndex(listener => {\n      return (\n        listener.id === id && listener.ref === ref && listener.event === event\n      );\n    });\n\n    if (index === -1) {\n      const newListener = { id, ref, event };\n      this.setState({ listeners: this.state.listeners.concat(newListener) });\n    }\n  };\n\n  scrollToBottom = () => {\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  addListeners = channelId => {\n    this.addMessageListener(channelId);\n    this.addTypingListeners(channelId);\n  };\n\n  addTypingListeners = channelId => {\n    let typingUsers = [];\n    this.state.typingRef.child(channelId).on(\"child_added\", snap => {\n      if (snap.key !== this.state.user.uid) {\n        typingUsers = typingUsers.concat({\n          id: snap.key,\n          name: snap.val()\n        });\n        this.setState({ typingUsers });\n      }\n    });\n    this.addToListeners(channelId, this.state.typingRef, \"child_added\");\n\n    this.state.typingRef.child(channelId).on(\"child_removed\", snap => {\n      const index = typingUsers.findIndex(user => user.id === snap.key);\n      if (index !== -1) {\n        typingUsers = typingUsers.filter(user => user.id !== snap.key);\n        this.setState({ typingUsers });\n      }\n    });\n    this.addToListeners(channelId, this.state.typingRef, \"child_removed\");\n\n    this.state.connectedRef.on(\"value\", snap => {\n      if (snap.val() === true) {\n        this.state.typingRef\n          .child(channelId)\n          .child(this.state.user.uid)\n          .onDisconnect()\n          .remove(err => {\n            if (err !== null) {\n              console.error(err);\n            }\n          });\n      }\n    });\n  };\n\n  addMessageListener = channelId => {\n    let loadedMessages = [];\n    const ref = this.getMessagesRef();\n    ref.child(channelId).on(\"child_added\", snap => {\n      loadedMessages.push(snap.val());\n      this.setState({\n        messages: loadedMessages,\n        messagesLoading: false\n      });\n      this.countUniqueUsers(loadedMessages);\n      this.countUserPosts(loadedMessages);\n    });\n    this.addToListeners(channelId, ref, \"child_added\");\n  };\n\n  addUserStarsListener = (channelId, userId) => {\n    this.state.usersRef\n      .child(userId)\n      .child(\"starred\")\n      .once(\"value\")\n      .then(data => {\n        if (data.val() !== null) {\n          const channelIds = Object.keys(data.val());\n          const prevStarred = channelIds.includes(channelId);\n          this.setState({ isChannelStarred: prevStarred });\n        }\n      });\n  };\n\n  getMessagesRef = () => {\n    const { messagesRef, privateMessagesRef, privateChannel } = this.state;\n    return privateChannel ? privateMessagesRef : messagesRef;\n  };\n\n  handleStar = () => {\n    this.setState(\n      prevState => ({\n        isChannelStarred: !prevState.isChannelStarred\n      }),\n      () => this.starChannel()\n    );\n  };\n\n  starChannel = () => {\n    if (this.state.isChannelStarred) {\n      this.state.usersRef.child(`${this.state.user.uid}/starred`).update({\n        [this.state.channel.id]: {\n          name: this.state.channel.name,\n          details: this.state.channel.details,\n          createdBy: {\n            name: this.state.channel.createdBy.name,\n            avatar: this.state.channel.createdBy.avatar\n          }\n        }\n      });\n    } else {\n      this.state.usersRef\n        .child(`${this.state.user.uid}/starred`)\n        .child(this.state.channel.id)\n        .remove(err => {\n          if (err !== null) {\n            console.error(err);\n          }\n        });\n    }\n  };\n\n  handleSearchChange = event => {\n    this.setState(\n      {\n        searchTerm: event.target.value,\n        searchLoading: true\n      },\n      () => this.handleSearchMessages()\n    );\n  };\n\n  handleSearchMessages = () => {\n    const channelMessages = [...this.state.messages];\n    const regex = new RegExp(this.state.searchTerm, \"gi\");\n    const searchResults = channelMessages.reduce((acc, message) => {\n      if (\n        (message.content && message.content.match(regex)) ||\n        message.user.name.match(regex)\n      ) {\n        acc.push(message);\n      }\n      return acc;\n    }, []);\n    this.setState({ searchResults });\n    setTimeout(() => this.setState({ searchLoading: false }), 1000);\n  };\n\n  countUniqueUsers = messages => {\n    const uniqueUsers = messages.reduce((acc, message) => {\n      if (!acc.includes(message.user.name)) {\n        acc.push(message.user.name);\n      }\n      return acc;\n    }, []);\n    const plural = uniqueUsers.length > 1 || uniqueUsers.length === 0;\n    const numUniqueUsers = `${uniqueUsers.length} user${plural ? \"s\" : \"\"}`;\n    this.setState({ numUniqueUsers });\n  };\n\n  countUserPosts = messages => {\n    let userPosts = messages.reduce((acc, message) => {\n      if (message.user.name in acc) {\n        acc[message.user.name].count += 1;\n      } else {\n        acc[message.user.name] = {\n          avatar: message.user.avatar,\n          count: 1\n        };\n      }\n      return acc;\n    }, {});\n    this.props.setUserPosts(userPosts);\n  };\n\n  displayMessages = messages =>\n    messages.length > 0 &&\n    messages.map(message => (\n      <Message\n        key={message.timestamp}\n        message={message}\n        user={this.state.user}\n      />\n    ));\n\n  displayChannelName = channel => {\n    return channel\n      ? `${this.state.privateChannel ? \"@\" : \"#\"}${channel.name}`\n      : \"\";\n  };\n\n  displayTypingUsers = users =>\n    users.length > 0 &&\n    users.map(user => (\n      <div\n        style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"0.2em\" }}\n        key={user.id}\n      >\n        <span className=\"user__typing\">{user.name} is typing</span> <Typing />\n      </div>\n    ));\n\n  displayMessageSkeleton = loading =>\n    loading ? (\n      <React.Fragment>\n        {[...Array(10)].map((_, i) => (\n          <Skeleton key={i} />\n        ))}\n      </React.Fragment>\n    ) : null;\n\n  render() {\n    // prettier-ignore\n    const { messagesRef, messages, channel, user, numUniqueUsers, searchTerm, searchResults, searchLoading, privateChannel, isChannelStarred, typingUsers, messagesLoading } = this.state;\n\n    return (\n      <React.Fragment>\n        <MessagesHeader\n          channelName={this.displayChannelName(channel)}\n          numUniqueUsers={numUniqueUsers}\n          handleSearchChange={this.handleSearchChange}\n          searchLoading={searchLoading}\n          isPrivateChannel={privateChannel}\n          handleStar={this.handleStar}\n          isChannelStarred={isChannelStarred}\n        />\n\n        <Segment>\n          <Comment.Group className=\"messages\">\n            {this.displayMessageSkeleton(messagesLoading)}\n            {searchTerm\n              ? this.displayMessages(searchResults)\n              : this.displayMessages(messages)}\n            {this.displayTypingUsers(typingUsers)}\n            <div ref={node => (this.messagesEnd = node)} />\n          </Comment.Group>\n        </Segment>\n\n        <MessageForm\n          messagesRef={messagesRef}\n          currentChannel={channel}\n          currentUser={user}\n          isPrivateChannel={privateChannel}\n          getMessagesRef={this.getMessagesRef}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setUserPosts }\n)(Messages);\n","import React from \"react\";\nimport {\n  Segment,\n  Accordion,\n  Header,\n  Icon,\n  Image,\n  List\n} from \"semantic-ui-react\";\n\nclass MetaPanel extends React.Component {\n  state = {\n    channel: this.props.currentChannel,\n    privateChannel: this.props.isPrivateChannel,\n    activeIndex: 0\n  };\n\n  setActiveIndex = (event, titleProps) => {\n    const { index } = titleProps;\n    const { activeIndex } = this.state;\n    const newIndex = activeIndex === index ? -1 : index;\n    this.setState({ activeIndex: newIndex });\n  };\n\n  formatCount = num => (num > 1 || num === 0 ? `${num} posts` : `${num} post`);\n\n  displayTopPosters = posts =>\n    Object.entries(posts)\n      .sort((a, b) => b[1] - a[1])\n      .map(([key, val], i) => (\n        <List.Item key={i}>\n          <Image avatar src={val.avatar} />\n          <List.Content>\n            <List.Header as=\"a\">{key}</List.Header>\n            <List.Description>{this.formatCount(val.count)}</List.Description>\n          </List.Content>\n        </List.Item>\n      ))\n      .slice(0, 2);\n\n  render() {\n    const { activeIndex, privateChannel, channel } = this.state;\n    const { userPosts } = this.props;\n\n    if (privateChannel) return null;\n\n    return (\n      <Segment loading={!channel}>\n        <Header as=\"h4\" attached=\"top\">\n          About: {channel && channel.name}\n        </Header>\n        <Accordion styled attached=\"true\">\n          <Accordion.Title\n            active={activeIndex === 0}\n            index={0}\n            onClick={this.setActiveIndex}\n          >\n            <Icon name=\"dropdown\" />\n            <Icon name=\"info\" />\n            Details\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 0}>\n            {channel && channel.details}\n          </Accordion.Content>\n\n          <Accordion.Title\n            active={activeIndex === 1}\n            index={1}\n            onClick={this.setActiveIndex}\n          >\n            <Icon name=\"dropdown\" />\n            <Icon name=\"user\" />\n            Host\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 1}>\n            <Header as=\"h3\">\n              <Image circular src={channel && channel.createdBy.avatar} />\n              {channel && channel.createdBy.name}\n            </Header>\n          </Accordion.Content>\n        </Accordion>\n      </Segment>\n    );\n  }\n}\n\nexport default MetaPanel;\n","import React from \"react\";\nimport { Grid } from \"semantic-ui-react\";\nimport \"./App.css\";\nimport { connect } from \"react-redux\";\n\nimport SidePanel from \"./SidePanel/SidePanel\";\nimport Messages from \"./Messages/Messages\";\nimport MetaPanel from \"./MetaPanel/MetaPanel\";\n\n// prettier-ignore\nconst App = ({ currentUser, currentChannel, isPrivateChannel, userPosts, primaryColor, secondaryColor }) => (\n  <Grid columns=\"equal\" className=\"app\" style={{ background: secondaryColor, minWidth: 770 }}>\n\n    <SidePanel\n      key={currentUser && currentUser.uid}\n      currentUser={currentUser}\n      primaryColor={primaryColor}\n    />\n\n    <Grid.Column style={{ marginLeft: 300 }}>\n      <Messages\n        key={currentChannel && currentChannel.id}\n        currentChannel={currentChannel}\n        currentUser={currentUser}\n        isPrivateChannel={isPrivateChannel}\n      />\n    </Grid.Column>\n\n    <Grid.Column width={4}>\n      <MetaPanel\n        key={currentChannel && currentChannel.name}\n        userPosts={userPosts}\n        currentChannel={currentChannel}\n        isPrivateChannel={isPrivateChannel}\n      />\n    </Grid.Column>\n  </Grid>\n);\n\nconst mapStateToProps = state => ({\n  currentUser: state.user.currentUser,\n  currentChannel: state.channel.currentChannel,\n  isPrivateChannel: state.channel.isPrivateChannel,\n  userPosts: state.channel.userPosts,\n  primaryColor: state.colors.primaryColor,\n  secondaryColor: state.colors.secondaryColor\n});\n\nexport default connect(mapStateToProps)(App);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nimport logo from \"../../images/advchat.png\";\n\nclass Login extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    errors: [],\n    loading: false\n  };\n\n  displayErrors = errors =>\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid(this.state)) {\n      this.setState({ errors: [], loading: true });\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(this.state.email, this.state.password)\n        .then(signedInUser => {\n          console.log(signedInUser);\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false\n          });\n        });\n    }\n  };\n\n  isFormValid = ({ email, password }) => email && password;\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  render() {\n    const { email, password, errors, loading } = this.state;\n\n    return (\n      <Grid\n        textAlign=\"center\"\n        verticalAlign=\"middle\"\n        className=\"app\"\n        style={{\n          background: \"white\"\n        }}\n      >\n        <Grid.Column style={{ maxWidth: 400 }}>\n          <Header textAlign=\"center\">\n            <img\n              src={logo}\n              alt=\"Logo\"\n              style={{ width: \"90%\", marginBottom: 40 }}\n            />\n          </Header>\n          <Form onSubmit={this.handleSubmit} size=\"large\">\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"email\"\n                icon=\"mail\"\n                iconPosition=\"left\"\n                placeholder=\"Email Address\"\n                onChange={this.handleChange}\n                value={email}\n                className={this.handleInputError(errors, \"email\")}\n                type=\"email\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"password\"\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                onChange={this.handleChange}\n                value={password}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n              <Button\n                disabled={loading}\n                className={loading ? \"loading\" : \"\"}\n                color=\"blue\"\n                fluid\n                size=\"large\"\n              >\n                Submit\n              </Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Error</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message style={{ marginTop: 40, marginBottom: 40 }}>\n            Authorized staff only. If you are a nurse, cook, or dietary\n            supervisor and cannot log in, please contact the administrator.\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport md5 from \"md5\";\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nimport logo from \"../../images/adv_logo.png\";\n\nclass Register extends React.Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    errors: [],\n    loading: false,\n    usersRef: firebase.database().ref(\"users\")\n  };\n\n  isFormValid = () => {\n    let errors = [];\n    let error;\n\n    if (this.isFormEmpty(this.state)) {\n      error = { message: \"Fill in all fields\" };\n      this.setState({ errors: errors.concat(error) });\n      return false;\n    } else if (!this.isPasswordValid(this.state)) {\n      error = { message: \"Password is invalid\" };\n      this.setState({ errors: errors.concat(error) });\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  isFormEmpty = ({ username, email, password, passwordConfirmation }) => {\n    return (\n      !username.length ||\n      !email.length ||\n      !password.length ||\n      !passwordConfirmation.length\n    );\n  };\n\n  isPasswordValid = ({ password, passwordConfirmation }) => {\n    if (password.length < 6 || passwordConfirmation.length < 6) {\n      return false;\n    } else if (password !== passwordConfirmation) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  displayErrors = errors =>\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid()) {\n      this.setState({ errors: [], loading: true });\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(this.state.email, this.state.password)\n        .then(createdUser => {\n          console.log(createdUser);\n          createdUser.user\n            .updateProfile({\n              displayName: this.state.username,\n              photoURL: `http://gravatar.com/avatar/${md5(\n                createdUser.user.email\n              )}?d=identicon`\n            })\n            .then(() => {\n              this.saveUser(createdUser).then(() => {\n                console.log(\"user saved\");\n              });\n            })\n            .catch(err => {\n              console.error(err);\n              this.setState({\n                errors: this.state.errors.concat(err),\n                loading: false\n              });\n            });\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false\n          });\n        });\n    }\n  };\n\n  saveUser = createdUser => {\n    return this.state.usersRef.child(createdUser.user.uid).set({\n      name: createdUser.user.displayName,\n      avatar: createdUser.user.photoURL\n    });\n  };\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      password,\n      passwordConfirmation,\n      errors,\n      loading\n    } = this.state;\n\n    return (\n      <Grid\n        textAlign=\"center\"\n        verticalAlign=\"middle\"\n        className=\"app\"\n        style={{\n          background: \"linear-gradient(to bottom, #660066 0%, #ffffff 200%)\"\n        }}\n      >\n        <Grid.Column style={{ maxWidth: 350 }}>\n          <Header textAlign=\"center\">\n            <img\n              src={logo}\n              alt=\"Logo\"\n              style={{ width: \"80%\", marginTop: \"10%\", marginBottom: \"10%\" }}\n            />\n            <br />\n            <i\n              class=\"inverted large user plus icon\"\n              style={{ display: \"inline-block\", marginBottom: 20 }}\n            />\n          </Header>\n          <Form onSubmit={this.handleSubmit} size=\"large\">\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"username\"\n                icon=\"user\"\n                iconPosition=\"left\"\n                placeholder=\"Username\"\n                onChange={this.handleChange}\n                value={username}\n                type=\"text\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"email\"\n                icon=\"mail\"\n                iconPosition=\"left\"\n                placeholder=\"Email Address\"\n                onChange={this.handleChange}\n                value={email}\n                className={this.handleInputError(errors, \"email\")}\n                type=\"email\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"password\"\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                onChange={this.handleChange}\n                value={password}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"passwordConfirmation\"\n                icon=\"repeat\"\n                iconPosition=\"left\"\n                placeholder=\"Password Confirmation\"\n                onChange={this.handleChange}\n                value={passwordConfirmation}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n              <Button\n                disabled={loading}\n                className={loading ? \"loading\" : \"\"}\n                color=\"blue\"\n                fluid\n                size=\"large\"\n              >\n                Submit\n              </Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Error</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message>\n            Already a user? <Link to=\"/login\">Login</Link>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Loader, Dimmer } from \"semantic-ui-react\";\n\nconst Spinner = () => (\n  <Dimmer active>\n    <Loader size=\"huge\" content={\"Preparing Chat...\"} />\n  </Dimmer>\n);\n\nexport default Spinner;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from \"redux\";\nimport * as actionTypes from \"../actions/types\";\n\nconst initialUserState = {\n  currentUser: null,\n  isLoading: true\n};\n\nconst user_reducer = (state = initialUserState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_USER:\n      return {\n        currentUser: action.payload.currentUser,\n        isLoading: false\n      };\n    case actionTypes.CLEAR_USER:\n      return {\n        ...state,\n        isLoading: false\n      };\n    default:\n      return state;\n  }\n};\n\nconst initialChannelState = {\n  currentChannel: null,\n  isPrivateChannel: false,\n  userPosts: null\n};\n\nconst channel_reducer = (state = initialChannelState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_CURRENT_CHANNEL:\n      return {\n        ...state,\n        currentChannel: action.payload.currentChannel\n      };\n    case actionTypes.SET_PRIVATE_CHANNEL:\n      return {\n        ...state,\n        isPrivateChannel: action.payload.isPrivateChannel\n      };\n    case actionTypes.SET_USER_POSTS:\n      return {\n        ...state,\n        userPosts: action.payload.userPosts\n      };\n    default:\n      return state;\n  }\n};\n\nconst initialColorsState = {\n  primaryColor: \"#4c3c4c\",\n  secondaryColor: \"#eee\"\n};\n\nconst colors_reducer = (state = initialColorsState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_COLORS:\n      return {\n        primaryColor: action.payload.primaryColor,\n        secondaryColor: action.payload.secondaryColor\n      };\n    default:\n      return state;\n  }\n};\n\nconst rootReducer = combineReducers({\n  user: user_reducer,\n  channel: channel_reducer,\n  colors: colors_reducer\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport Login from \"./components/Auth/Login\";\nimport Register from \"./components/Auth/Register\";\nimport Spinner from \"./Spinner\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport firebase from \"./firebase\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  withRouter\n} from \"react-router-dom\";\n\nimport { createStore } from \"redux\";\nimport { Provider, connect } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./reducers\";\nimport { setUser, clearUser } from \"./actions\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\nclass Root extends React.Component {\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        // console.log(user);\n        this.props.setUser(user);\n        this.props.history.push(\"/\");\n      } else {\n        this.props.history.push(\"/login\");\n        this.props.clearUser();\n      }\n    });\n  }\n\n  render() {\n    return this.props.isLoading ? (\n      <Spinner />\n    ) : (\n      <Switch>\n        <Route exact path=\"/\" component={App} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n      </Switch>\n    );\n  }\n}\n\nconst mapStateFromProps = state => ({\n  isLoading: state.user.isLoading\n});\n\nconst RootWithAuth = withRouter(\n  connect(\n    mapStateFromProps,\n    { setUser, clearUser }\n  )(Root)\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <RootWithAuth />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\nregisterServiceWorker();\n"],"sourceRoot":""}